# КОМАНДОС Арнольда

### 1. Базовые команды Git

- **`git init`** — Инициализация нового репозитория.
- **`git clone <url>`** — Клонирование удалённого репозитория.
- **`git status`** — Проверка состояния репозитория: какие файлы изменены, что требует коммита.
- **`git add <file>`** — Добавляет изменения конкретного файла в индекс.
- **`git commit -m "сообщение"`** — Создаёт коммит с сообщением.
- **`git log`** — Просмотр истории коммитов.

### 2. Работа с ветками

- **`git branch <branch-name>`** — Создаёт новую ветку.
- **`git branch`** — Список всех веток. `*` указывает текущую ветку.
- **`git checkout <branch-name>`** — Переключение на указанную ветку.
- **`git checkout -b <branch-name>`** — Создание и переключение на новую ветку.
- **`git branch -d <branch-name>`** — Удаление локальной ветки.

### 3. Объединение веток (merge и rebase)

- **`git merge <branch-name>`** — Объединяет указанную ветку с текущей. Если возникают конфликты, их нужно разрешить вручную.

- **`git rebase <branch-name>`** — Переносит коммиты текущей ветки поверх коммитов из `<branch-name>`. Полезно для линейной истории, но может вызвать конфликты, которые также придётся разрешить.

### 4. Шаги для разрешения конфликтов

При объединении (`merge`) или переносе (`rebase`) веток могут возникнуть конфликты. Вот как их решать:

1. **Начало объединения или ребейса**:
   - **`git merge <branch-name>`** или **`git rebase <branch-name>`** — Команда инициирует слияние или перенос.
   
2. **Просмотр файлов с конфликтами**:
   - **`git status`** — Покажет файлы с конфликтами, которые нужно вручную изменить. В статусе увидишь файлы в состоянии `both modified` (изменены в обеих ветках).

3. **Разрешение конфликтов в файлах**:
   - Открой файлы с конфликтами в редакторе. Места конфликта обозначены так:
     ```
     <<<<<<< HEAD
     (текущая версия)
     =======
     (изменения из другой ветки)
     >>>>>>> <branch-name>
     ```
   - Внеси нужные изменения вручную, сохрани файл.

4. **Добавление файлов после разрешения конфликта**:
   - **`git add <file>`** — Добавь исправленный файл в индекс.

5. **Продолжение слияния или ребейса**:
   - **Для merge**: После добавления всех файлов с разрешёнными конфликтами, завершить командой:
     ```bash
     git commit -m "Resolved merge conflicts"
     ```
   - **Для rebase**: Выполни **`git rebase --continue`** для продолжения, после чего Git попытается завершить процесс переноса. 
     - Если снова возникнут конфликты, повторяй процесс для каждого коммита.

6. **Отменить merge/rebase, если что-то пошло не так**:
   - **`git merge --abort`** — Отменяет слияние и возвращает репозиторий в исходное состояние до команды `merge`.
   - **`git rebase --abort`** — Прерывает `rebase` и возвращает всё, как было до него.

### 5. Работа с удалённым репозиторием

- **`git remote add origin <url>`** — Подключение локального репозитория к удалённому.
- **`git push origin <branch-name>`** — Отправка коммитов на удалённый репозиторий.
- **`git pull origin <branch-name>`** — Забирает изменения из удалённого репозитория и объединяет с локальной версией.
- **`git fetch origin`** — Обновляет информацию о ветках из удалённого репозитория без объединения.

### 6. Восстановление изменений

- **`git reset <file>`** — Убирает файл из индекса (после `git add`).
- **`git reset --hard <commit>`** — Полностью возвращает репозиторий к состоянию указанного коммита.
- **`git revert <commit>`** — Создаёт новый коммит, который отменяет изменения указанного коммита.

### Частые сценарии работы с конфликтами и ветками

1. **Создать и перейти на новую ветку**:
   ```bash
   git checkout -b new-feature
   ```
   
2. **Объединить ветку с разрешением конфликтов**:
   ```bash
   git checkout main
   git merge new-feature
   # Разрешаем конфликты, если они есть
   git add .
   git commit -m "Resolved merge conflicts"
   ```

3. **Использовать rebase с разрешением конфликтов по шагам**:
   ```bash
   git checkout new-feature
   git rebase main
   # Разрешаем конфликты, если они есть
   git add <file>
   git rebase --continue
   ```

4. **Забрать обновления и объединить с локальной веткой**:
   ```bash
   git pull origin main
   ```

